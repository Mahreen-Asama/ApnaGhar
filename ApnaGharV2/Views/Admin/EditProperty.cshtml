@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = "_LayoutAdmin";
}

@*---------------------add property page starts----------------------- *@
@model ApnaGharV2.Models.Classes.Property

<div id="after-header-div" class="text-white text-center" style="background-color: var(--site-color); height:150px;">
    <h4 class="pt-3">Properties</h4>
    <p class="">Welcome to ApnaGhar</p>
</div>

<div class="container bg-white p-4 shadow-lg border rounded" style="margin-top:-50px; width:90%;">

<form enctype="multipart/form-data" id="addPropertyForm" asp-controller="Admin" asp-action="EditProperty" asp-route-id="@Model.Id">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>

    <h2 class="fw-bold m-3">Update Property</h2>

    @*portion 1*@
        <div class="text-white fw-bold p-2 m-2" style="background-color: #3b5998; border-radius: 5px;">
            UPDATE TYPE AND LOCATION
        </div>

    <div class="row justify-content-center p-1">
        <label class="col-2" asp-for="Purpose">
            Purpose: <span style="color: red;">*</span>
        </label>
        <div class="col-6 btn-group">
                @if (@Model.Purpose == "Sale")
                {
                    <label class="btn btn-light btn-outline-secondary">
                    <input type="radio" value="Rent" name="purpose" asp-for="Purpose" id="Rent" required> Rent
                </label>
                    <label class="btn btn-light btn-outline-secondary">
                    <input type="radio" value="Sale" name="purpose" asp-for="Purpose" id="Sale" required checked> Sale
                </label>
                }
                else if(@Model.Purpose == "Rent")
                {
                    <label class="btn btn-light btn-outline-secondary">
                    <input type="radio" value="Rent" name="purpose" asp-for="Purpose" id="Rent" required checked> Rent
                </label>
                    <label class="btn btn-light btn-outline-secondary">
                    <input type="radio" value="Sale" name="purpose" asp-for="Purpose" id="Sale" required> Sale
                </label>
                }
          
        </div>
     </div>
     <div class="row justify-content-center">
        <span asp-validation-for="Purpose" class="col-3 text-danger"></span>
     </div>

     <div class="row justify-content-center p-1">
        <label asp-for="Address" class="col-2">
             Address: <span style="color: red;">*</span>
        </label>
            <div class="col-6">
            <input placeholder="Property Address" class="form-control" asp-for="Address" required value="@Model.Address"/>
            </div>
     </div>
      <div class="row justify-content-center">
        <span asp-validation-for="Address" class="col-3 text-danger"></span>
     </div>


    @*portion 2-----------------------------------------*@

   <div class="text-white fw-bold p-2 m-2" style="background-color: #3b5998; border-radius: 5px;">
        UPDATE PROPERTY DETAILS
    </div>

    <div class="row justify-content-center p-1">
        <label asp-for="Title" class="col-2">
            Property Title: <span style="color: red;">*</span>
        </label>
        <div class=" col-6" >
            <input type="text"  class="form-control" asp-for="Title" required maxlength="100" value="@Model.Title"/>
        </div>
     </div>
     <div class="row justify-content-center">
        <span asp-validation-for="Title" class="col-3 text-danger"></span>
     </div>


     <div class="row justify-content-center p-1">
        <label asp-for="Description" class="col-2">
            Description: <span style="color: red;">*</span>
        </label>
            <div class="col-6" required>
                <textarea class="form-control" rows="7" required asp-for="Description" value="@Model.Description"></textarea>
            </div>
     </div>
     <div class="row justify-content-center">
        <span asp-validation-for="Description" class="col-3 text-danger"></span>
     </div>


     <div class="row justify-content-center p-1">
        <label asp-for="Price" class="col-2">
             Price (PKR): <span style="color: red;">*</span>
        </label>
            <div class="col-3">
              <input type="number" required class="form-control" min="1" asp-for="Price" value="@Model.Price"/>
            </div>
            <div class=" col-3">
            <select class="form-select" aria-label="Default select example" required asp-for="PriceUnit" value="@Model.PriceUnit">
              <option value="Lakh">Lakh</option>
              <option value="Crore">Crore</option>
              <option value="Thousand">Thousand</option>
              </select>
            </div>
     </div>
      <div class="row justify-content-center">
        <span asp-validation-for="Price" class="col-3 text-danger"></span>
     </div>


     <div class="row justify-content-center p-1">
        <label asp-for="Size" class="col-2">
            Land Area: <span style="color: red;">*</span>
        </label>
            <span class="col-3">
                <input type="number" required class="form-control" min="1" asp-for="Size" value="@Model.Size"/>
            </span>
        <div class="col-3">
            <select class="form-select" aria-label="Default select example" required asp-for="SizeUnit" value="@Model.SizeUnit">
              <option value="Sqft">Square Feet</option>
              <option value="SqYd">Square Yard</option>
              <option value="SqM">Square Meters</option>
              <option value="Marla">Marla</option>
              <option value="Kanal">Kanal</option>
              <option value="Acre">Acre</option>
              </select>
            </div>
     </div>
     <div class="row justify-content-center">
        <span asp-validation-for="Size" class="col-3 text-danger"></span>
     </div>

        
        <div class="row justify-content-center p-1">
          <label asp-for="Bedrooms" class="col-2">
            Bedrooms: <span style="color: red;"></span>
        </label>
        <div class=" col-6">
            <input type="number" class="form-control" min="1" asp-for="Bedrooms" value="@Model.Bedrooms"/>
            </div>
     </div>

     <div class="row justify-content-center p-1">
             <label asp-for="Bathrooms" class="col-2">
            Bathrooms: <span style="color: red;"></span>
            </label>
            <div class="col-6">
            <input type="number" class="form-control" min="1" asp-for="Bathrooms" value="@Model.Bathrooms"/>
            </div>
     </div>

    @* previous images*@
    <div class="text-white fw-bold p-2 m-2" style="background-color: #3b5998; border-radius: 5px;">
        PROPERTY IMAGES
    </div>
    <div class="form-group row justify-content-center p-3">
        <div class="col-8">
            <div id="carouselExampleControls w-75" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                        @{
                            var imgCount=@Model.ImagesCount;
                            Console.WriteLine("---------- Iamges count: " + imgCount);
                            <div class="carousel-item active">
                            <img src="~/images/properties/@(Model.Type)/@(Model.Id)_1.jpg" class="d-block w-100" alt="...">
                          </div>
                            for(int i=2; i <= imgCount; i++){
                                <div class="carousel-item">
                            <img src="~/images/properties/@(Model.Type)/@(Model.Id)_@(i).jpg" class="d-block w-100" alt="...">
                          </div>
                            }
                        }
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Next</span>
                        </button>
                      </div>
        </div>
    </div>
     
    @*portion 3*@
   <div class="text-white fw-bold p-2 m-2" style="background-color: #3b5998; border-radius: 5px;">
        UPLOAD NEW IMAGES
    </div>
    <div class="form-group row justify-content-center p-3">
        <div class="col-6">
        <input class="form-control" type="file" multiple asp-for="PropertyImages" id="pimgs">
        </div>
    </div>
    <div class="row justify-content-center">
        <span asp-validation-for="PropertyImages" class="col-3 text-danger"></span>
     </div>

    @*submit button*@
    <div class="row justify-content-center p-3">
                <button type="submit" class="btn btn-secondary col-3 fw-bold">UPDATE PROPERTY</button>
            </div>
    
</form>

</div>









